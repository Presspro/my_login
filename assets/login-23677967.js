import{_ as C,u as k,r as u,o as S,c as U,a as l,t as y,b as t,w as r,d as v,e as c,p as j,f as E}from"./index-460610a9.js";const m=i=>(j("data-v-a423d475"),i=i(),E(),i),I={id:"background"},O=m(()=>l("div",{id:"disc"},"Welcome to this page！",-1)),T={id:"clock"},B={id:"time"},H={id:"date"},N={id:"container"},x={id:"login"},F={id:"form"},R=m(()=>l("p",{id:"p_login"},"没有账号就注册一个吧",-1)),$={id:"sign"},q={id:"form"},D=m(()=>l("p",{id:"p_sign"},"已有账号？→",-1)),G=m(()=>l("div",{id:"copyright"},"Copyright © 2022 yty Right Reserved.",-1)),J={name:"Mall",components:{},data(){return{time:"",data:"",flag:!0}},methods:{handleFlip(){let i=document.getElementById("container");i.style.transform=this.flag?"rotateY(180deg)":"",this.flag=!this.flag}}},M=Object.assign(J,{setup(i){const w=k(),s=u(""),_=u(""),n=u(""),h=u(""),f="https://db-api.amarea.cn";function V(){const d=new Headers;d.append("Content-Type","application/json");let o={method:"GET",headers:d,redirect:"follow"};fetch(`${f}/users/${s.value}`,o).then(e=>e.json()).then(e=>{if(e.id!==s.value)throw new Error("用户名不存在");if(e.password===n.value)w.push({name:"home",params:{id:e.id}});else throw new Error("密码错误")}).catch(e=>alert(e))}function b(){const d=new Headers;d.append("Content-Type","application/json");let o={method:"POST",headers:d,redirect:"follow"};o.body=JSON.stringify({id:s.value,name:_.value,password:n.value}),h.value!==n.value?alert("两次输入的密码不一致，请检查"):fetch(`${f}/users`,o).then(e=>e.json()).then(e=>alert(e.id+"，注册成功"))}return(d,o)=>{const e=v("el-input"),p=v("el-button"),g=v("el-card");return S(),U("div",I,[O,l("div",T,[l("div",B,y(d.time),1),l("div",H,y(d.date),1)]),l("div",N,[l("div",x,[t(g,{class:"box-card",id:"card_login"},{default:r(()=>[l("div",F,[t(e,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a),placeholder:"请输入用户名"},null,8,["modelValue"]),t(e,{placeholder:"请输入密码",modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),"show-password":""},null,8,["modelValue"]),t(p,{id:"bs1",type:"primary",onClick:V},{default:r(()=>[c("登 录")]),_:1}),t(p,{id:"bs2",type:"primary",onClick:d.handleFlip},{default:r(()=>[c("点击注册")]),_:1},8,["onClick"]),R])]),_:1})]),l("div",$,[t(g,{class:"box-card",id:"card_sign"},{default:r(()=>[l("div",q,[t(e,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=a=>s.value=a),placeholder:"请输入用户名"},null,8,["modelValue"]),t(e,{modelValue:_.value,"onUpdate:modelValue":o[3]||(o[3]=a=>_.value=a),placeholder:"请输入昵称"},null,8,["modelValue"]),t(e,{type:"password",placeholder:"请输入密码",modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=a=>n.value=a),"show-password":""},null,8,["modelValue"]),t(e,{type:"password",placeholder:"请再次输入密码",modelValue:h.value,"onUpdate:modelValue":o[5]||(o[5]=a=>h.value=a),"show-password":""},null,8,["modelValue"]),t(p,{type:"primary",onClick:b},{default:r(()=>[c("注册")]),_:1}),t(p,{id:"bs3",type:"primary",onClick:d.handleFlip},{default:r(()=>[c("点击登录")]),_:1},8,["onClick"]),D])]),_:1})])]),G])}}}),W=C(M,[["__scopeId","data-v-a423d475"]]);export{W as default};
