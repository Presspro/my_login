import{_ as b,u as C,r as u,o as k,c as U,a,b as t,w as r,d as v,e as c,p as j,f as x}from"./index-c813eff9.js";const m=i=>(j("data-v-2ba2be38"),i=i(),x(),i),E={id:"background"},I=m(()=>a("div",{id:"disc"},"Welcome to this page！",-1)),O={id:"container"},S={id:"login"},T={id:"form"},B=m(()=>a("p",{id:"p_login"},"没有账号就注册一个吧",-1)),H={id:"sign"},N={id:"form"},F=m(()=>a("p",{id:"p_sign"},"已有账号？→",-1)),R=m(()=>a("div",{id:"copyright"},"Copyright © 2022 yty Right Reserved.",-1)),$={name:"Mall",components:{},data(){return{time:"",data:"",flag:!0}},methods:{handleFlip(){let i=document.getElementById("container");i.style.transform=this.flag?"rotateY(180deg)":"",this.flag=!this.flag}}},q=Object.assign($,{setup(i){const w=C(),d=u(""),_=u(""),n=u(""),h=u(""),f="https://db-api.amarea.cn";function y(){const s=new Headers;s.append("Content-Type","application/json");let o={method:"GET",headers:s,redirect:"follow"};fetch(`${f}/users/${d.value}`,o).then(e=>e.json()).then(e=>{if(e.id!==d.value)throw new Error("用户名不存在");if(e.password===n.value)w.push({name:"home",params:{id:e.id}});else throw new Error("密码错误")}).catch(e=>alert(e))}function V(){const s=new Headers;s.append("Content-Type","application/json");let o={method:"POST",headers:s,redirect:"follow"};o.body=JSON.stringify({id:d.value,name:_.value,password:n.value}),h.value!==n.value?alert("两次输入的密码不一致，请检查"):fetch(`${f}/users`,o).then(e=>e.json()).then(e=>alert(e.id+"，注册成功"))}return(s,o)=>{const e=v("el-input"),p=v("el-button"),g=v("el-card");return k(),U("div",E,[I,a("div",O,[a("div",S,[t(g,{class:"box-card",id:"card_login"},{default:r(()=>[a("div",T,[t(e,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=l=>d.value=l),placeholder:"请输入用户名"},null,8,["modelValue"]),t(e,{placeholder:"请输入密码",modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l),"show-password":""},null,8,["modelValue"]),t(p,{id:"bs1",type:"primary",onClick:y},{default:r(()=>[c("登 录")]),_:1}),t(p,{id:"bs2",type:"primary",onClick:s.handleFlip},{default:r(()=>[c("点击注册")]),_:1},8,["onClick"]),B])]),_:1})]),a("div",H,[t(g,{class:"box-card",id:"card_sign"},{default:r(()=>[a("div",N,[t(e,{modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),placeholder:"请输入用户名"},null,8,["modelValue"]),t(e,{modelValue:_.value,"onUpdate:modelValue":o[3]||(o[3]=l=>_.value=l),placeholder:"请输入昵称"},null,8,["modelValue"]),t(e,{type:"password",placeholder:"请输入密码",modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=l=>n.value=l),"show-password":""},null,8,["modelValue"]),t(e,{type:"password",placeholder:"请再次输入密码",modelValue:h.value,"onUpdate:modelValue":o[5]||(o[5]=l=>h.value=l),"show-password":""},null,8,["modelValue"]),t(p,{type:"primary",onClick:V},{default:r(()=>[c("注册")]),_:1}),t(p,{id:"bs3",type:"primary",onClick:s.handleFlip},{default:r(()=>[c("点击登录")]),_:1},8,["onClick"]),F])]),_:1})])]),R])}}}),J=b(q,[["__scopeId","data-v-2ba2be38"]]);export{J as default};
