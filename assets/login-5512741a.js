import{_ as k,u as C,r as _,o as I,c as S,a as s,t as w,b as l,w as m,d as g,e as v,p as T,f as U}from"./index-c7d17f83.js";const f=u=>(T("data-v-b733133a"),u=u(),U(),u),j={id:"background"},E=f(()=>s("div",{id:"disc"},"Welcome to this page！",-1)),H={id:"clock"},O={id:"time"},x={id:"date"},B={id:"container"},F={id:"login"},N={id:"form"},$=f(()=>s("p",{id:"p_login"},"没有账号就注册一个吧",-1)),D={id:"sign"},M={id:"form"},R=f(()=>s("p",{id:"p_sign"},"已有账号？→",-1)),q=f(()=>s("div",{id:"copyright"},"Copyright © 2022 yty Right Reserved.",-1)),Y={name:"Mall",components:{},data(){return{time:"",data:"",flag:!0}},mounted(){this.$nextTick(()=>{setInterval(this.update_clock,1e3)})},methods:{handleFlip(){let u=document.getElementById("container");u.style.transform=this.flag?"rotateY(180deg)":"",this.flag=!this.flag},update_clock:function(u){var p=new Date,o=p.getFullYear();o<10&&(o="0"+o);var i=p.getMonth()+1;i<10&&(i="0"+i);var a=p.getDate();a<10&&(a="0"+a);var r=p.getHours();r<10&&(r="0"+r);var c=p.getMinutes();c<10&&(c="0"+c),this.time=r+":"+c,this.date=o+"/"+i+"/"+a}}},G=Object.assign(Y,{setup(u){const p=C(),o=_(""),i=_(""),a=_(""),r=_(""),c="https://db-api.amarea.cn";function V(){const n=new Headers;n.append("Content-Type","application/json");let t={method:"GET",headers:n,redirect:"follow"};fetch(`${c}/users/${o.value}`,t).then(e=>e.json()).then(e=>{if(e.id!==o.value)throw new Error("用户名不存在");if(e.password===a.value)p.push({name:"home",params:{id:e.id}});else throw new Error("密码错误")}).catch(e=>alert(e))}function b(){const n=new Headers;n.append("Content-Type","application/json");let t={method:"POST",headers:n,redirect:"follow"};t.body=JSON.stringify({id:o.value,name:i.value,password:a.value}),r.value!==a.value?alert("两次输入的密码不一致，请检查"):fetch(`${c}/users`,t).then(e=>e.json()).then(e=>alert(e.id+"，注册成功"))}return(n,t)=>{const e=g("el-input"),h=g("el-button"),y=g("el-card");return I(),S("div",j,[E,s("div",H,[s("div",O,w(n.time),1),s("div",x,w(n.date),1)]),s("div",B,[s("div",F,[l(y,{class:"box-card",id:"card_login"},{default:m(()=>[s("div",N,[l(e,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=d=>o.value=d),placeholder:"请输入用户名"},null,8,["modelValue"]),l(e,{placeholder:"请输入密码",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=d=>a.value=d),"show-password":""},null,8,["modelValue"]),l(h,{id:"bs1",type:"primary",onClick:V},{default:m(()=>[v("登 录")]),_:1}),l(h,{id:"bs2",type:"primary",onClick:n.handleFlip},{default:m(()=>[v("点击注册")]),_:1},8,["onClick"]),$])]),_:1})]),s("div",D,[l(y,{class:"box-card",id:"card_sign"},{default:m(()=>[s("div",M,[l(e,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=d=>o.value=d),placeholder:"请输入用户名"},null,8,["modelValue"]),l(e,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=d=>i.value=d),placeholder:"请输入昵称"},null,8,["modelValue"]),l(e,{type:"password",placeholder:"请输入密码",modelValue:a.value,"onUpdate:modelValue":t[4]||(t[4]=d=>a.value=d),"show-password":""},null,8,["modelValue"]),l(e,{type:"password",placeholder:"请再次输入密码",modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=d=>r.value=d),"show-password":""},null,8,["modelValue"]),l(h,{type:"primary",onClick:b},{default:m(()=>[v("注册")]),_:1}),l(h,{id:"bs3",type:"primary",onClick:n.handleFlip},{default:m(()=>[v("点击登录")]),_:1},8,["onClick"]),R])]),_:1})])]),q])}}}),P=k(G,[["__scopeId","data-v-b733133a"]]);export{P as default};
